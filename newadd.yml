- config:
    name: 新增的接口
    variables: 
        #测试环境
        - open_realname: http://172.20.61.252:8380 
    request: 
        base_url: http://172.20.61.229:8081
        headers:
            Content-Type: application/json
        #测试环境  
            X-Tsign-Open-App-Id: "1111563841"
            X-Tsign-Open-App-Secret: 753b9f6acafcbba300315838be3374c1


- test:
    name: 银行三要素（正确）
    request:
        url: /bankThree/auth
        method: POST
        json:
            name: 陈威宇
            idno: 362302198609175011
            cardno: 6214835713381521
    validate:
        - eq: [content.success, true]

- test:
    name: 银行三要素-姓名/身份证/卡号不匹配
    parameters:
        - name-idno-cardno:
            - ['陈威宇','14273019911003072X','6214835713381521']
            - ['詹姆斯','362302198609175011','6214835713381521']
            - ['陈威宇','362302198609175011','6214850293496011']
    request:
        url: /bankThree/auth
        method: POST
        json:
            name: $name
            idno: $idno
            cardno: $cardno
    validate:
        - eq: [content.pass, false]

- test:
    name: 银行三要素-空的校验
    parameters:
        - name-idno-cardno:
            - ['','','']
            - [null,null,null]
    request:
        url: /bankThree/auth
        method: POST
        json:
            name: $name
            idno: $idno
            cardno: $cardno
    validate:
        - eq: [status_code, 500]

- test:
    name: 实名开放-银行三要素（正确）
    request:
        url: $open_realname/bankThree/openBankThreeRequest
        method: POST
        json:
            name: 陈威宇
            idno: 362302198609175011
            cardno: 6214835713381521
    validate:
        - eq: [content.data.pass, true]

- test:
    name: 实名开放-银行三要素-姓名/卡号不匹配
    parameters:
        - name-idno-cardno:
            - ['库里','362302198609175011','6214835713381521']
            - ['陈威宇','362302198609175011','6214835713381522']
    request:
        url: $open_realname/bankThree/openBankThreeRequest
        method: POST
        json:
            name: $name
            idno: $idno
            cardno: $cardno
    validate:
        - eq: [content.data.pass, false]

- test:
    name: 实名开放-银行三要素-身份证不匹配
    parameters:
        - name-idno-cardno:
            - ['陈威宇','362302198609175012','6214835713381521']
    request:
        url: $open_realname/bankThree/openBankThreeRequest
        method: POST
        json:
            name: $name
            idno: $idno
            cardno: $cardno
    validate:
        - contains: [content.message, 身份证号格式错误]

- test:
    name: 实名开放-银行三要素-字段为空
    parameters:
        - name-idno-cardno:
            - ['','362302198609175011','6214835713381521']
            - ['','','6214835713381521']
            - ['陈威宇','362302198609175011','']
    request:
        url: $open_realname/bankThree/openBankThreeRequest
        method: POST
        json:
            name: $name
            idno: $idno
            cardno: $cardno
    validate:
        - eq: [content.success, false]

- test:
    name: 实名开放-银行四要素（正确）
    request:
        url: $open_realname/bankfour/openBankFourRequest
        method: POST
        json:
            name: 陈威宇
            idno: 362302198609175011
            mobile: 13868070521
            cardno: 6212261202030499843
    validate:
        - eq: [content.data.pass, true]

- test:
    name: 实名开放-银行四要素-姓名/卡号不匹配
    parameters:
        - name-idno-mobile-cardno:
            - ['库里','362302198609175011',"13868070521",'6212261202030499843']
            - ['陈威宇','362302198609175011',"13868070522",'6212261202030499843']
            - ['陈威宇','362302198609175011',"13868070521",'6212261202030499842']
    request:
        url: $open_realname/bankfour/openBankFourRequest
        method: POST
        json:
            name: $name
            idno: $idno
            mobile: $mobile
            cardno: $cardno
    validate:
        - eq: [content.data.pass, false]

- test:
    name: 实名开放-银行四要素-身份证不匹配
    parameters:
        - name-idno-mobile-cardno:
            - ['陈威宇','362302198609175012',"13868070521",'6212261202030499843']
    request:
        url: $open_realname/bankfour/openBankFourRequest
        method: POST
        json:
            name: $name
            idno: $idno
            mobile: $mobile
            cardno: $cardno
    validate:
        - contains: [content.message, 身份证号格式错误]

- test:
    name: 实名开放-银行四要素-字段为空
    parameters:
        - name-idno-mobile-cardno:
            - ['','362302198609175011',"13868070521",'6212261202030499843']
            - ['陈威宇','',"13868070521",'6212261202030499843']
            - ['陈威宇','362302198609175011',"",'6212261202030499843']
            - ['陈威宇','362302198609175011',"13868070521",'']
    request:
        url: $open_realname/bankfour/openBankFourRequest
        method: POST
        json:
            name: $name
            idno: $idno
            mobile: $mobile
            cardno: $cardno
    validate:
        - eq: [content.success, false]


